{
    // Ref doc: https://code.visualstudio.com/docs/remote/devcontainerjson-reference
    "name": "bodacc",
    // Docker build options
    "context": "../",
    "dockerFile": "../.vscode/Dockerfile",
    "build": {
        "target": "vscode"
    },
    //Docker run options
    "runArgs": [
        "--init", //For docker in docker
        "--cap-add=SYS_PTRACE",
        "--security-opt",
        "seccomp=unconfined",
        "--dns=9.9.9.10",
        "--dns=10.100.5.4",
        "--dns=10.100.5.7"
    ],
    "mounts": [
        "source=/var/run/docker.sock,target=/var/run/docker.sock,type=bind" //Make possible to use docker in docker
    ],
    // Vscode docker options
    "workspaceMount": "source=${localWorkspaceFolder},target=${localWorkspaceFolder},type=bind,consistency=delegated", //Change workspace folder to reflect host tree structure
    "workspaceFolder": "${localWorkspaceFolder}", //Change workspace folder to reflect host tree structure
    "initializeCommand": "docker network create vscode_net || true", // Create network for docker
    // VSCODE settings
    "settings": {
        "files.watcherExclude": {
            "**/target/**": true,
            "**/bin/**": true,
            "**/obj/**": true,
        },
        "git.allowForcePush": true,
        "git.useForcePushWithLease": true,
        "editor.formatOnSave": true,
    },
    // vscode estensions in container
    "extensions": [
        // "rust-lang.rust",
        "augustocdias.tasks-shell-input",
        "donjayamanne.githistory",
        "ms-dotnettools.csharp",
        "alexcvzz.vscode-sqlite"
    ]
}